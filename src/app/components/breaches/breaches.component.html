<div id="breaches">
  <h2>Breaches</h2>
  <table mat-table [dataSource]="breaches" class="mat-elevation-z0 table">
    <ng-container matColumnDef="cluster">
      <th mat-header-cell *matHeaderCellDef>Cluster</th>
      <td mat-cell *matCellDef="let breach" class="cell">
        {{ breach.policy.cluster.name }}
      </td>
    </ng-container>

    <ng-container matColumnDef="occurredAt">
      <th mat-header-cell *matHeaderCellDef>Occurred At</th>
      <td mat-cell *matCellDef="let breach" class="cell">
        {{ breach.occurredAt }}
      </td>
    </ng-container>

    <ng-container matColumnDef="rules">
      <th mat-header-cell *matHeaderCellDef>MATIC</th>
      <td mat-cell *matCellDef="let breach" class="cell">
        <table>
          <tr *ngFor="let rule of listOf(breach.rules)">
            <td>{{ rule[1] }}</td>
          </tr>
        </table>
      </td>
    </ng-container>

    <ng-container matColumnDef="violation">
      <th mat-header-cell *matHeaderCellDef>Exceeded By</th>
      <td mat-cell *matCellDef="let breach" class="cell">
        <table>
          <tr *ngFor="let violation of listOf(breach.violation)">
            <td>{{ violation[1] }}</td>
          </tr>
        </table>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>
